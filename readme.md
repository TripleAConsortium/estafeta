# Проект: Управление прохождениями игр

Этот проект автоматизирует сбор, редактирование и отображение данных о прохождениях игр в виде удобной HTML-таблицы с использованием GitHub Actions и Pages.

## Структура репозитория

В репозитории три основные ветки:

1. **`main`** - Главная ветка с основным кодом
2. **`json-data`** - Ветка для хранения данных о прохождениях игр (в формате JSON)
3. **`auto-html`** - Ветка для автоматически генерируемых HTML-файлов (не редактируется вручную)

## Основные файлы в ветке `main`

### 1. `json_to_html.py`
- Преобразует JSON-данные из ветки `json-data` в HTML-таблицу
- Используется GitHub Actions для автоматического обновления

### 2. GitHub Workflow: `json_to_html_launcher.yml`
- Обновляет HTML-таблицу
- Запускается вручную через GitHub Dispatcher
- Выполняет скрипт `json_to_html.py` для генерации обновленной таблицы

### 3. GitHub Workflow: `json_editor.yml`
- Редактирует данные о прохождениях (запускается вручную через Dispatcher)
- Функции:
  - Добавление нового прохождения
  - Редактирование существующего прохождения по ID
  - Удаление прохождения по ID

### 4. Серверная форма
- Веб-интерфейс для удобного добавления данных
- При нажатии "Сохранить":
  1. Отправляет запрос в `json_editor` для обновления JSON-данных
  2. Триггерит `json_to_html_launcher` для обновления HTML-таблицы

## Рабочий процесс

1. Пользователь заполняет форму на сервере
2. Данные отправляются в `json_editor`, который обновляет `json-data`
3. Запускается `json_to_html_launcher`, который:
   - Берет данные из `json-data`
   - Генерирует новую HTML-таблицу
   - Сохраняет ее в `auto-html`
4. GitHub Pages автоматически публикует обновленную таблицу

## Важные примечания
- Ветку `auto-html` не следует редактировать вручную
- Ветку `json-data` можно редактировать вручную при необходимости, но рекомендуется использовать автоматизированные инструменты



# Фронтенд-интерфейс

## Основные элементы управления
- **Добавить** - создание новой записи о прохождении
- **Удалить** - удаление существующей записи (по ID)
- **Изменить** - редактирование существующей записи
- **Просмотр JSON** - быстрый доступ к исходным данным
- **Открыть таблицу** - просмотр данных в удобном табличном формате

## Особенности формы ввода
### Поле "Игрок"
- Ограничено тремя предустановленными значениями (наша команда)

### Поле "Статус"
- Основные значения: `Completed` и `Dropped`
- Дополнительные статусы добавлены для особых случаев

### Поле "Платформа"
- Выпадающий список доступных платформ
- Список будет корректироваться по мере использования

### Поле "Дата прохождения"
- По умолчанию устанавливается текущие месяц и год
- В большинстве случаев требуется только корректировка месяца

### Поле "Co-op"
- Гибкое текстовое поле для указания участников:
  - Можно указать 1 или несколько человек
  - Поддерживаются как участники из списка, так и внешние (например, родственники)
- Формат ввода свободный, без строгой модерации

### Поле "Название игры"
- Интегрирован Twitch-саггестер (автодополнение)
- При вводе части названия (например, "хало") выводится до 20 варианта из Twitch API
- Позволяет точно указать конкретную версию или издание игры:
  - Примеры: "Halo Combat Evolved", "Halo 2 ODST"


# История и философия проекта

## Изначальный подход (Markdown + Gist)
Первые 3 года данные велись в Markdown-таблицах через GitHub Gist, потому что:
- Готовый UI для простого создания таблиц без табличных процессоров
- Не требовал целого репозитория для одного файла
- История изменений через ревизии Gist
- Казалось простым и удобным решением

## Проблемы старого подхода
Со временем процесс стал чрезмерно сложным:
1. Необходимость переключаться между аккаунтами
2. Ручное копирование всей таблицы в Sublime Text для редактирования
3. Требовалось тщательное форматирование (ровные отступы, пробелы)
4. Таблица перестала помещаться в интерфейсе редактирования в GitHub
5. Добавление каждой игры стало отдельной многоступенчатой процедурой
6. Потерялась оперативность внесения изменений

## Переход на JSON-формат
Новый подход был выбран по следующим причинам:
- **Гибкость**: Легкая миграция в любой другой формат (SQL, Excel, Google Таблицы)
- **Простота** автоматизации через Python-скрипты
- **История изменений** сохраняется через Git
- **Удобство** програмmatic работы с данными
- Возможность создания **любых представлений** данных (нынешняя HTML-таблица - лишь один из вариантов)

## Будущее проекта
- Текущий HTML-интерфейс - минимально жизнеспособное решение
- Открыт для предложений по улучшению визуализации данных
- Главные принципы:
  - Удобство внесения данных
  - Наглядность представления
  - Открытость к изменениям
